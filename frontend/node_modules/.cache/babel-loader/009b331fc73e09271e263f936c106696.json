{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bendi\\\\Desktop\\\\pu\\\\62\\\\frontend\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React from \"react\";\nimport Spinner from \"../Spinner/Spinner\";\nimport styles from \"../../App.module.css\";\nimport { registerUser, loginUser } from \"../../actions/user\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = change => this.setState({\n      [change.target.name]: change.target.value,\n      error: false\n    });\n\n    this.state = {\n      username: \"\",\n      email: \"\",\n      role: false,\n      password: \"\",\n      repeatPassword: \"\",\n      register: false,\n      error: false,\n      loading: false\n    };\n  }\n\n  buttonEnabled() {\n    if (this.state.register) {\n      return this.state.username.length > 2 && this.state.password.length > 4 && this.state.password === this.state.repeatPassword && this.state.email.includes(\"@\") && this.state.email.length > 6;\n    } else {\n      return this.state.username.length > 2 && this.state.password.length > 4;\n    }\n  }\n\n  getUserFields() {\n    return {\n      username: `${this.state.username}`,\n      email: `${this.state.email}`,\n      role: `${this.state.role}`,\n      visibility: `${\"false\"}`,\n      password: `${this.state.password}`\n    };\n  }\n\n  authenticateUser() {\n    this.setState({\n      loading: true\n    });\n\n    if (this.state.register) {\n      registerUser(this.getUserFields()).then(res => res ? loginUser(this.getUserFields()).then(data => this.props.onAuth(data)).then(() => this.setState({\n        error: true\n      })) : this.setState({\n        error: true,\n        loading: false\n      }));\n    } else {\n      loginUser(this.getUserFields()).then(data => this.props.onAuth(data)).then(res => !res && this.setState({\n        error: true,\n        loading: false\n      }));\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: styles.loginWrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.loginLogoWrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.hero,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.bannerPurple,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.antiHero,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.loginHeader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Exercise-It!\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"En aktiv side for deg som \\xF8nsker \"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"\\xE5 dele trening og bli inspirert\")))), React.createElement(\"div\", {\n      className: styles.hero2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.bannerOrange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: styles.loginFormWrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.state.loading ? React.createElement(\"div\", {\n      className: styles.loginForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      className: styles.loginForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.state.register ? React.createElement(\"div\", {\n      className: styles.loginSubheader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Kom i gang!\") : React.createElement(\"div\", {\n      className: styles.loginSubheader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Logg inn!\"), React.createElement(\"input\", {\n      name: \"username\",\n      spellcheck: \"false\",\n      onChange: this.onChange,\n      placeholder: \"Brukernavn\",\n      className: styles.inputLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), this.state.register ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      spellcheck: \"false\",\n      name: \"email\",\n      onChange: this.onChange,\n      placeholder: \"E-post\",\n      className: styles.inputLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), (!this.state.email.includes(\"@\") || this.state.email.length <= 6) && 0 < this.state.email.length ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"E-post adressen er ikke gyldig!\") : \"\") : \"\", React.createElement(\"input\", {\n      name: \"password\",\n      onChange: this.onChange,\n      placeholder: \"Passord\",\n      type: \"password\",\n      className: styles.inputLogin,\n      onKeyPress: event => event.key === \"Enter\" ? this.authenticateUser() : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), this.state.register ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"repeatPassword\",\n      onChange: this.onChange,\n      placeholder: \"Gjenta passord\",\n      type: \"password\",\n      onKeyPress: event => event.key === \"Enter\" ? this.authenticateUser() : \"\",\n      className: styles.inputLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), this.state.repeatPassword.length > 0 && this.state.password !== this.state.repeatPassword ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Passordene stemmer ikke overens!\") : \"\", \" \") : \"\", this.state.register ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.setState({\n        role: false\n      }),\n      className: !this.state.role ? styles.toggleTrue : styles.toggleFalse,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Amat\\xF8r\"), React.createElement(\"button\", {\n      onClick: () => this.setState({\n        role: true\n      }),\n      className: this.state.role ? styles.toggleTrue : styles.toggleFalse,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Profesjonell\"))) : \"\", React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      disabled: !this.buttonEnabled(),\n      onClick: () => this.authenticateUser(),\n      className: this.buttonEnabled() ? styles.buttonLogin : styles.buttonLoginDisabled,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Fortsett\"), React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          register: !this.state.register\n        });\n      },\n      className: styles.link,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, this.state.register ? \"Jeg har bruker\" : \"Registrer deg\"), React.createElement(\"button\", {\n      className: styles.link,\n      onClick: () => this.props.onCancel(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Hopp over\"), this.state.error ? this.state.register ? React.createElement(\"div\", {\n      className: styles.error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Ugyldig brukerinfo..\") : React.createElement(\"div\", {\n      className: styles.error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Feil navn eller passord..\") : \"\"))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/bendi/Desktop/pu/62/frontend/src/components/Login/Login.js"],"names":["React","Spinner","styles","registerUser","loginUser","Login","Component","constructor","props","onChange","change","setState","target","name","value","error","state","username","email","role","password","repeatPassword","register","loading","buttonEnabled","length","includes","getUserFields","visibility","authenticateUser","then","res","data","onAuth","render","loginWrapper","loginLogoWrapper","hero","bannerPurple","antiHero","loginHeader","hero2","bannerOrange","loginFormWrapper","loginForm","loginSubheader","inputLogin","event","key","toggleTrue","toggleFalse","buttonLogin","buttonLoginDisabled","link","onCancel"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Spinner from \"../Spinner/Spinner\";\r\n\r\nimport styles from \"../../App.module.css\";\r\nimport { registerUser, loginUser } from \"../../actions/user\";\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      email: \"\",\r\n      role: false,\r\n      password: \"\",\r\n      repeatPassword: \"\",\r\n      register: false,\r\n      error: false,\r\n      loading: false\r\n    };\r\n  }\r\n\r\n  buttonEnabled() {\r\n    if (this.state.register) {\r\n      return (\r\n        this.state.username.length > 2 &&\r\n        this.state.password.length > 4 &&\r\n        this.state.password === this.state.repeatPassword &&\r\n        this.state.email.includes(\"@\") &&\r\n        this.state.email.length > 6\r\n      );\r\n    } else {\r\n      return this.state.username.length > 2 && this.state.password.length > 4;\r\n    }\r\n  }\r\n\r\n  getUserFields() {\r\n    return {\r\n      username: `${this.state.username}`,\r\n      email: `${this.state.email}`,\r\n      role: `${this.state.role}`,\r\n      visibility: `${\"false\"}`,\r\n      password: `${this.state.password}`\r\n    };\r\n  }\r\n\r\n  onChange = change =>\r\n    this.setState({ [change.target.name]: change.target.value, error: false });\r\n\r\n  authenticateUser() {\r\n    this.setState({ loading: true });\r\n    if (this.state.register) {\r\n      registerUser(this.getUserFields()).then(res => res ?\r\n        loginUser(this.getUserFields())\r\n          .then(data => this.props.onAuth(data))\r\n          .then(() => this.setState({ error: true })) : this.setState({ error: true, loading: false })\r\n      );\r\n    } else {\r\n      loginUser(this.getUserFields())\r\n        .then(data => this.props.onAuth(data))\r\n        .then(res => !res && this.setState({ error: true, loading: false }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.loginWrapper}>\r\n        <div className={styles.loginLogoWrapper}>\r\n          <div className={styles.hero}>\r\n            <div className={styles.bannerPurple}>\r\n              <div className={styles.antiHero}>\r\n                <div className={styles.loginHeader}>Exercise-It!</div>\r\n                <div>En aktiv side for deg som ønsker </div>\r\n                <div>å dele trening og bli inspirert</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={styles.hero2}>\r\n            <div className={styles.bannerOrange} />\r\n          </div>\r\n        </div>\r\n        <div className={styles.loginFormWrapper}>\r\n          {this.state.loading ? (\r\n            <div className={styles.loginForm}>\r\n              <Spinner />\r\n            </div>\r\n          ) : (\r\n            <div className={styles.loginForm}>\r\n              {this.state.register ? (\r\n                <div className={styles.loginSubheader}>Kom i gang!</div>\r\n              ) : (\r\n                <div className={styles.loginSubheader}>Logg inn!</div>\r\n              )}\r\n              <input\r\n                name=\"username\"\r\n                spellcheck=\"false\"\r\n                onChange={this.onChange}\r\n                placeholder=\"Brukernavn\"\r\n                className={styles.inputLogin}\r\n              />\r\n              {this.state.register ? (\r\n                <div>\r\n                  <input\r\n                  spellcheck=\"false\"\r\n                    name=\"email\"\r\n                    onChange={this.onChange}\r\n                    placeholder=\"E-post\"\r\n                    className={styles.inputLogin}\r\n                  />\r\n                  {(!this.state.email.includes(\"@\") ||\r\n                    this.state.email.length <= 6) &&\r\n                  0 < this.state.email.length ? (\r\n                    <div>E-post adressen er ikke gyldig!</div>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              <input\r\n                name=\"password\"\r\n                onChange={this.onChange}\r\n                placeholder=\"Passord\"\r\n                type=\"password\"\r\n                className={styles.inputLogin}\r\n                onKeyPress={event =>\r\n                  event.key === \"Enter\" ? this.authenticateUser() : \"\"\r\n                }\r\n              />\r\n              {this.state.register ? (\r\n                <div>\r\n                  <input\r\n                    name=\"repeatPassword\"\r\n                    onChange={this.onChange}\r\n                    placeholder=\"Gjenta passord\"\r\n                    type=\"password\"\r\n                    onKeyPress={event =>\r\n                      event.key === \"Enter\" ? this.authenticateUser() : \"\"\r\n                    }\r\n                    className={styles.inputLogin}\r\n                  />\r\n                  {this.state.repeatPassword.length > 0 &&\r\n                  this.state.password !== this.state.repeatPassword ? (\r\n                    <div>Passordene stemmer ikke overens!</div>\r\n                  ) : (\r\n                    \"\"\r\n                  )}{\" \"}\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {this.state.register ? (\r\n                <div>\r\n                  <div>\r\n                    <button\r\n                      onClick={() => this.setState({ role: false })}\r\n                      className={\r\n                        !this.state.role\r\n                          ? styles.toggleTrue\r\n                          : styles.toggleFalse\r\n                      }\r\n                    >\r\n                      Amatør\r\n                    </button>\r\n                    <button\r\n                      onClick={() => this.setState({ role: true })}\r\n                      className={\r\n                        this.state.role ? styles.toggleTrue : styles.toggleFalse\r\n                      }\r\n                    >\r\n                      Profesjonell\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              <div>\r\n                <button\r\n                  disabled={!this.buttonEnabled()}\r\n                  onClick={() => this.authenticateUser()}\r\n                  className={\r\n                    this.buttonEnabled()\r\n                      ? styles.buttonLogin\r\n                      : styles.buttonLoginDisabled\r\n                  }\r\n                >\r\n                  Fortsett\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    this.setState({ register: !this.state.register });\r\n                  }}\r\n                  className={styles.link}\r\n                >\r\n                  {this.state.register ? \"Jeg har bruker\" : \"Registrer deg\"}\r\n                </button>\r\n                <button\r\n                  className={styles.link}\r\n                  onClick={() => this.props.onCancel()}\r\n                >\r\n                  Hopp over\r\n                </button>\r\n                {this.state.error ? (\r\n                  this.state.register ? <div className={styles.error}>Ugyldig brukerinfo..</div> :\r\n                <div className={styles.error}>Feil navn eller passord..</div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}