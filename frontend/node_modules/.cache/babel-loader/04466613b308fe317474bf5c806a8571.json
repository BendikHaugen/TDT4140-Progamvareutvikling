{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bendi\\\\Desktop\\\\pu\\\\62\\\\frontend\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React from \"react\";\nimport Logo from \"../../logo.png\";\nimport Spinner from \"../Spinner/Spinner\";\nimport styles from \"../../App.module.css\";\nimport { registerUser, loginUser } from \"../../actions/user\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = change => this.setState({\n      [change.target.name]: change.target.value,\n      error: false\n    });\n\n    this.state = {\n      username: \"\",\n      email: \"\",\n      role: false,\n      password: \"\",\n      repeatPassword: \"\",\n      register: false,\n      error: false,\n      loading: false\n    };\n  }\n\n  buttonEnabled() {\n    if (this.state.register) {\n      return this.state.username.length > 2 && this.state.password.length > 4 && this.state.password === this.state.repeatPassword && this.state.email.includes(\"@\") && this.state.email.length > 6;\n    } else {\n      return this.state.username.length > 2 && this.state.password.length > 4;\n    }\n  }\n\n  getUserFields() {\n    return {\n      username: `${this.state.username}`,\n      email: `${this.state.email}`,\n      role: `${this.state.role}`,\n      visibility: `${\"false\"}`,\n      password: `${this.state.password}`\n    };\n  }\n\n  authenticateUser() {\n    this.setState({\n      loading: true\n    });\n\n    if (this.state.register) {\n      registerUser(this.getUserFields()).then(loginUser(this.getUserFields()).then(data => this.props.onAuth(data)).then(() => this.setState({\n        error: true\n      })));\n    } else {\n      loginUser(this.getUserFields()).then(data => this.props.onAuth(data)).then(() => this.setState({\n        error: true\n      }));\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: styles.loginWrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.loginLogoWrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"Exercise-it!\",\n      className: !this.buttonEnabled() ? styles.loginLogo : styles.loginLogoActivated,\n      src: Logo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: styles.loginFormWrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.state.loading ? React.createElement(\"div\", {\n      className: styles.loginForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      className: styles.loginForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.backButton,\n      onClick: () => this.props.onCancel(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Hopp over\"), this.state.register ? React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Kom i gang!\") : React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Logg inn!\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \" Brukernavn\"), React.createElement(\"input\", {\n      name: \"username\",\n      onChange: this.onChange,\n      placeholder: \"Navn\",\n      className: styles.inputLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), this.state.register ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \" E-post\"), React.createElement(\"input\", {\n      name: \"email\",\n      onChange: this.onChange,\n      placeholder: \"E-post\",\n      className: styles.inputLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), (!this.state.email.includes(\"@\") || this.state.email.length <= 6) && 0 < this.state.email.length ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"E-post adressen er ikke gyldig!\") : \"\") : \"\", React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \" Passord\"), React.createElement(\"input\", {\n      name: \"password\",\n      onChange: this.onChange,\n      placeholder: \"Passord\",\n      type: \"password\",\n      className: styles.inputLogin,\n      onKeyPress: event => event.key === \"Enter\" ? this.authenticateUser() : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), this.state.register ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \" Gjenta passord\"), React.createElement(\"input\", {\n      name: \"repeatPassword\",\n      onChange: this.onChange,\n      placeholder: \"Passord\",\n      type: \"password\",\n      onKeyPress: event => event.key === \"Enter\" ? this.authenticateUser() : \"\",\n      className: styles.inputLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), this.state.repeatPassword.length > 0 && this.state.password !== this.state.repeatPassword ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Passordene stemmer ikke overens!\") : \"\", \" \") : \"\", this.state.register ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \" Min rolle\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.setState({\n        role: false\n      }),\n      className: !this.state.role ? styles.toggleTrue : styles.toggleFalse,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Hobbytrening\"), React.createElement(\"button\", {\n      onClick: () => this.setState({\n        role: true\n      }),\n      className: this.state.role ? styles.toggleTrue : styles.toggleFalse,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Treningsekspert\"))) : \"\", React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      disabled: !this.buttonEnabled(),\n      onClick: () => this.authenticateUser(),\n      className: this.buttonEnabled() ? styles.buttonRegister : styles.buttonRegisterDisabled,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Fortsett\"), React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          register: !this.state.register\n        });\n      },\n      className: styles.link,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, this.state.register ? \"Jeg har bruker\" : \"Registrer deg\")), this.state.error ? React.createElement(\"div\", {\n      className: styles.error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Noe gikk galt..\") : \"\")));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/bendi/Desktop/pu/62/frontend/src/components/Login/Login.js"],"names":["React","Logo","Spinner","styles","registerUser","loginUser","Login","Component","constructor","props","onChange","change","setState","target","name","value","error","state","username","email","role","password","repeatPassword","register","loading","buttonEnabled","length","includes","getUserFields","visibility","authenticateUser","then","data","onAuth","render","loginWrapper","loginLogoWrapper","loginLogo","loginLogoActivated","loginFormWrapper","loginForm","backButton","onCancel","inputLogin","event","key","toggleTrue","toggleFalse","buttonRegister","buttonRegisterDisabled","link"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Logo from \"../../logo.png\";\r\nimport Spinner from \"../Spinner/Spinner\";\r\n\r\nimport styles from \"../../App.module.css\";\r\nimport { registerUser, loginUser } from \"../../actions/user\";\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      email: \"\",\r\n      role: false,\r\n      password: \"\",\r\n      repeatPassword: \"\",\r\n      register: false,\r\n      error: false,\r\n      loading: false\r\n    };\r\n  }\r\n\r\n  buttonEnabled() {\r\n    if (this.state.register) {\r\n      return (\r\n        this.state.username.length > 2 &&\r\n        this.state.password.length > 4 &&\r\n        this.state.password === this.state.repeatPassword &&\r\n        this.state.email.includes(\"@\") &&\r\n        this.state.email.length > 6\r\n      );\r\n    } else {\r\n      return this.state.username.length > 2 && this.state.password.length > 4;\r\n    }\r\n  }\r\n\r\n  getUserFields() {\r\n    return {\r\n      username: `${this.state.username}`,\r\n      email: `${this.state.email}`,\r\n      role: `${this.state.role}`,\r\n      visibility: `${\"false\"}`,\r\n      password: `${this.state.password}`\r\n    };\r\n  }\r\n\r\n  onChange = change =>\r\n    this.setState({ [change.target.name]: change.target.value, error: false });\r\n\r\n  authenticateUser() {\r\n    this.setState({loading: true})\r\n    if (this.state.register) {\r\n      registerUser(this.getUserFields()).then(\r\n        loginUser(this.getUserFields())\r\n          .then(data => this.props.onAuth(data))\r\n          .then(() => this.setState({ error: true }))\r\n      );\r\n    } else {\r\n      loginUser(this.getUserFields())\r\n        .then(data => this.props.onAuth(data))\r\n        .then(() => this.setState({ error: true }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.loginWrapper}>\r\n        <div className={styles.loginLogoWrapper}>\r\n          <img\r\n            alt=\"Exercise-it!\"\r\n            className={\r\n              !this.buttonEnabled()\r\n                ? styles.loginLogo\r\n                : styles.loginLogoActivated\r\n            }\r\n            src={Logo}\r\n          />\r\n        </div>\r\n        <div className={styles.loginFormWrapper}>\r\n        {this.state.loading ? (<div className={styles.loginForm}><Spinner /></div>) :\r\n          (<div className={styles.loginForm}>\r\n            <div\r\n              className={styles.backButton}\r\n              onClick={() => this.props.onCancel()}\r\n            >\r\n              Hopp over\r\n            </div>\r\n            {this.state.register ? <h2>Kom i gang!</h2> : <h2>Logg inn!</h2>}\r\n            <h3> Brukernavn</h3>\r\n            <input\r\n              name=\"username\"\r\n              onChange={this.onChange}\r\n              placeholder=\"Navn\"\r\n              className={styles.inputLogin}\r\n            />\r\n            {this.state.register ? (\r\n              <div>\r\n                <h3> E-post</h3>\r\n                <input\r\n                  name=\"email\"\r\n                  onChange={this.onChange}\r\n                  placeholder=\"E-post\"\r\n                  className={styles.inputLogin}\r\n                />\r\n                {(!this.state.email.includes(\"@\") ||\r\n                  this.state.email.length <= 6) &&\r\n                0 < this.state.email.length ? (\r\n                  <div>E-post adressen er ikke gyldig!</div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <h3> Passord</h3>\r\n            <input\r\n              name=\"password\"\r\n              onChange={this.onChange}\r\n              placeholder=\"Passord\"\r\n              type=\"password\"\r\n              className={styles.inputLogin}\r\n              onKeyPress={event =>\r\n                event.key === \"Enter\" ? this.authenticateUser() : \"\"\r\n              }\r\n            />\r\n            {this.state.register ? (\r\n              <div>\r\n                <h3> Gjenta passord</h3>\r\n                <input\r\n                  name=\"repeatPassword\"\r\n                  onChange={this.onChange}\r\n                  placeholder=\"Passord\"\r\n                  type=\"password\"\r\n                  onKeyPress={event =>\r\n                    event.key === \"Enter\" ? this.authenticateUser() : \"\"\r\n                  }\r\n                  className={styles.inputLogin}\r\n                />\r\n                {this.state.repeatPassword.length > 0 &&\r\n                this.state.password !== this.state.repeatPassword ? (\r\n                  <div>Passordene stemmer ikke overens!</div>\r\n                ) : (\r\n                  \"\"\r\n                )}{\" \"}\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {this.state.register ? (\r\n              <div>\r\n                <h3> Min rolle</h3>\r\n                <div>\r\n                  <button\r\n                    onClick={() => this.setState({ role: false })}\r\n                    className={\r\n                      !this.state.role ? styles.toggleTrue : styles.toggleFalse\r\n                    }\r\n                  >\r\n                    Hobbytrening\r\n                  </button>\r\n                  <button\r\n                    onClick={() => this.setState({ role: true })}\r\n                    className={\r\n                      this.state.role ? styles.toggleTrue : styles.toggleFalse\r\n                    }\r\n                  >\r\n                    Treningsekspert\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <div>\r\n              <button\r\n                disabled={!this.buttonEnabled()}\r\n                onClick={() => this.authenticateUser()}\r\n                className={\r\n                  this.buttonEnabled()\r\n                    ? styles.buttonRegister\r\n                    : styles.buttonRegisterDisabled\r\n                }\r\n              >\r\n                Fortsett\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  this.setState({ register: !this.state.register });\r\n                }}\r\n                className={styles.link}\r\n              >\r\n                {this.state.register ? \"Jeg har bruker\" : \"Registrer deg\"}\r\n              </button>\r\n            </div>\r\n            {this.state.error ? (\r\n              <div className={styles.error}>Noe gikk galt..</div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}