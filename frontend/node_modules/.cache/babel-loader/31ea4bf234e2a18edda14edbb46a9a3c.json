{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bendi\\\\Desktop\\\\pu\\\\62\\\\frontend\\\\src\\\\components\\\\NewPost\\\\NewWorkout.js\";\nimport React from \"react\";\nimport styles from \"../../App.module.css\";\nconst defaultState = {\n  title: \"\",\n  addExercise: \"\",\n  exercises: [],\n  exercisesId: \"\",\n  image: \"\",\n  content: \"\",\n  duration: \"\",\n  error: false\n};\nexport default class NewWorkout extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.post = async userdata => {\n      if (this.checkValidPost()) {\n        var date = new Date();\n        var dateFormat = date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\n        const formdata = new FormData();\n        formdata.append('title', this.state.title);\n        formdata.append('date', dateFormat);\n        formdata.append('content', this.state.content);\n        formdata.append('duration', this.state.duration);\n        formdata.append('image', this.state.image, this.state.image.name);\n        formdata.append('relations', this.state.exercisesId);\n        formdata.append('username', this.props.user.username ? this.props.user.username : '');\n        var parameters = {\n          method: \"POST\",\n          body: formdata,\n          redirect: \"follow\"\n        };\n        const response = await fetch(\"http://localhost:8000/workouts/\", parameters);\n        const data = await response.json();\n        console.log(\"posting a new workout..\");\n        this.props.reFetch();\n        this.setState(defaultState);\n        return data;\n      } else {\n        this.setState({\n          error: true\n        });\n      }\n    };\n\n    this.checkValidPost = () => {\n      return this.state.title.length > 3 && this.state.title.length < 50 && this.state.image && this.state.content.length > 15 && this.state.duration;\n    };\n\n    this.onChange = change => this.setState({\n      [change.target.name]: change.target.value\n    });\n\n    this.onChange = change => this.setState({\n      [change.target.name]: change.target.value\n    });\n\n    this.filterFound = () => {\n      var match = '';\n\n      if (this.state.exercises.indexOf(this.state.addExercise) <= -1) {\n        this.props.exercises.forEach(a => this.state.addExercise === a.title ? match = a.id : '');\n        return match;\n      }\n    };\n\n    this.state = defaultState;\n  }\n\n  removeFilter(filter) {\n    var oldIds = this.state.exercisesId.split(' ').slice(1);\n    var newFilters = [];\n    var newIds = '';\n    oldIds.splice(this.state.exercises.indexOf(filter), 1);\n    oldIds.forEach(id => newIds = newIds + \" \" + id);\n    this.state.exercises.forEach(a => a !== filter ? newFilters.push(a) : '');\n    this.setState({\n      exercises: newFilters,\n      exercisesId: newIds\n    });\n  }\n\n  addFilter() {\n    if (this.filterFound()) {\n      this.setState({\n        exercisesId: this.state.exercisesId + \" \" + this.filterFound(),\n        exercises: [...this.state.exercises, this.state.addExercise],\n        addExercise: ''\n      });\n    }\n  }\n\n  render() {\n    if (!this.props.isCreating) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: styles.postWrapperPublish,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Opprett trenings\\xF8kt\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"title\",\n      className: styles.input,\n      placeholder: \"Tittel p\\xE5 \\xF8kt\",\n      value: this.state.title,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"duration\",\n      type: \"number\",\n      className: styles.inputSmall,\n      placeholder: \"Varighet\",\n      value: this.state.duration,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: styles.postImagePublish,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.gradientPublish,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.inputImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Bilde:\", React.createElement(\"input\", {\n      type: \"file\",\n      name: \"image\",\n      accept: \"image/png, image/jpeg\",\n      onChange: change => {\n        this.setState({\n          image: change.target.files[0]\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })), \" \"), \" \"), React.createElement(\"textarea\", {\n      className: styles.inputField,\n      name: \"content\",\n      style: {\n        minHeight: 100\n      },\n      placeholder: \"Beskrivelse\",\n      value: this.state.content,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"addExercise\",\n      className: this.filterFound() ? styles.input : styles.inputDisabled,\n      placeholder: \"Velg \\xF8velser\",\n      value: this.state.addExercise.charAt(0).toUpperCase() + this.state.addExercise.slice(1),\n      onChange: this.onChange,\n      onKeyPress: event => event.key === \"Enter\" ? this.addFilter() : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: this.filterFound() ? styles.button : styles.buttonDisabled,\n      onClick: () => this.addFilter(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"+ Legg til\"), React.createElement(\"button\", {\n      className: this.checkValidPost() ? styles.button : styles.buttonDisabled,\n      onClick: () => this.post(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Publiser\")), React.createElement(\"div\", {\n      className: styles.row,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, this.state.exercises.map(exercise => React.createElement(\"div\", {\n      className: styles.filterListPost,\n      onClick: () => this.removeFilter(exercise),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, exercise))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/bendi/Desktop/pu/62/frontend/src/components/NewPost/NewWorkout.js"],"names":["React","styles","defaultState","title","addExercise","exercises","exercisesId","image","content","duration","error","NewWorkout","Component","constructor","props","post","userdata","checkValidPost","date","Date","dateFormat","getFullYear","getMonth","getDate","formdata","FormData","append","state","name","user","username","parameters","method","body","redirect","response","fetch","data","json","console","log","reFetch","setState","length","onChange","change","target","value","filterFound","match","indexOf","forEach","a","id","removeFilter","filter","oldIds","split","slice","newFilters","newIds","splice","push","addFilter","render","isCreating","postWrapperPublish","input","inputSmall","postImagePublish","gradientPublish","inputImage","files","inputField","minHeight","inputDisabled","charAt","toUpperCase","event","key","button","buttonDisabled","row","map","exercise","filterListPost"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styles from \"../../App.module.css\"\r\n\r\nconst defaultState = {\r\n  title: \"\",\r\n  addExercise: \"\",\r\n  exercises: [],\r\n  exercisesId: \"\",\r\n  image: \"\",\r\n  content: \"\",\r\n  duration: \"\",\r\n  error: false\r\n}\r\n\r\nexport default class NewWorkout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = defaultState;\r\n      }\r\n\r\n      post = async userdata => {\r\n        if (this.checkValidPost()) {\r\n        var date = new Date();\r\n        var dateFormat =\r\n          date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\r\n        const formdata = new FormData();\r\n        formdata.append('title', this.state.title);\r\n        formdata.append('date', dateFormat);\r\n        formdata.append('content', this.state.content);\r\n        formdata.append('duration', this.state.duration);\r\n        formdata.append('image', this.state.image, this.state.image.name);\r\n        formdata.append('relations', this.state.exercisesId);\r\n        formdata.append('username', this.props.user.username ? this.props.user.username : '')\r\n    \r\n        var parameters = {\r\n          method: \"POST\",\r\n          body: formdata,\r\n          redirect: \"follow\"\r\n        };\r\n        const response = await fetch(\"http://localhost:8000/workouts/\", parameters);\r\n        const data = await response.json();\r\n        console.log(\"posting a new workout..\");\r\n        this.props.reFetch();\r\n        this.setState(defaultState)\r\n        return data;\r\n      }\r\n      else {this.setState({error: true})}\r\n      };\r\n\r\n      checkValidPost = () => {\r\n        return (\r\n            this.state.title.length > 3 &&\r\n            this.state.title.length < 50 &&\r\n            this.state.image &&\r\n            this.state.content.length > 15 &&\r\n            this.state.duration\r\n        );\r\n        };\r\n    \r\n        onChange = change =>\r\n        this.setState({ [change.target.name]: change.target.value });\r\n        \r\n\r\n        onChange = change =>\r\n        this.setState({ [change.target.name]: change.target.value });\r\n    \r\n      filterFound = () => {\r\n        var match = '';\r\n        if (this.state.exercises.indexOf(this.state.addExercise) <= -1) {\r\n        this.props.exercises.forEach(a => this.state.addExercise === a.title ? match = a.id : '')\r\n        return match;\r\n        }\r\n      }\r\n    \r\n      removeFilter(filter) {\r\n        var oldIds = this.state.exercisesId.split(' ').slice(1);\r\n        var newFilters = [];\r\n        var newIds = '';\r\n        oldIds.splice(this.state.exercises.indexOf(filter), 1)\r\n        oldIds.forEach(id => \r\n          newIds = newIds + \" \" + id);\r\n    \r\n        this.state.exercises.forEach(a => a !== filter ?\r\n        newFilters.push(a) : '');\r\n        this.setState({exercises: newFilters, exercisesId: newIds})\r\n      }\r\n    \r\n      addFilter() {\r\n        if (this.filterFound()) {\r\n        this.setState({exercisesId: (this.state.exercisesId + \" \" + this.filterFound()),\r\n        exercises: [...this.state.exercises, this.state.addExercise], addExercise: ''})\r\n        }\r\n      }\r\n    \r\n\r\n        render() {\r\n        if ( !this.props.isCreating ) { return <div></div>}\r\n\r\n        return (            \r\n          <div className={styles.postWrapperPublish}>\r\n          <div className={styles.title}>\r\n              <strong>Opprett treningsøkt</strong>\r\n            </div>\r\n            <div >\r\n              \r\n                <input\r\n                  name=\"title\"\r\n                  className={styles.input}\r\n                  placeholder=\"Tittel på økt\"\r\n                  value={this.state.title}\r\n                  onChange={this.onChange}\r\n                />\r\n                     <input\r\n                  name=\"duration\"\r\n                  type=\"number\"\r\n                  className={styles.inputSmall}\r\n                  placeholder=\"Varighet\"\r\n                  value={this.state.duration}\r\n                  onChange={this.onChange}\r\n                />\r\n\r\n\r\n\r\n        <div className={styles.postImagePublish} >\r\n        <div className={styles.gradientPublish}>\r\n        <div className={styles.inputImage}>\r\n                Bilde:\r\n                 <input type=\"file\"\r\n                 name=\"image\"\r\n                 accept=\"image/png, image/jpeg\"\r\n                 onChange={change => {\r\n                  this.setState({\r\n                    image: change.target.files[0]\r\n                  });\r\n                }}/>\r\n                  </div> </div> </div>\r\n                <textarea\r\n                  className={styles.inputField}\r\n                  name=\"content\"\r\n                  style={{ minHeight: 100 }}\r\n                  placeholder=\"Beskrivelse\"\r\n                  value={this.state.content}\r\n                  onChange={this.onChange}\r\n                />\r\n                <input\r\n                  name=\"addExercise\"\r\n                  className={this.filterFound() ? styles.input : styles.inputDisabled}\r\n                  placeholder=\"Velg øvelser\"\r\n                  value={this.state.addExercise.charAt(0).toUpperCase() + \r\n                    this.state.addExercise.slice(1)}\r\n                  onChange={this.onChange}\r\n                  onKeyPress={event =>\r\n                    event.key === \"Enter\" ? this.addFilter() : \"\"}\r\n                />\r\n                 <button\r\n          className={\r\n            this.filterFound() ? styles.button : styles.buttonDisabled\r\n          }\r\n          onClick={() => this.addFilter()}\r\n        >\r\n          + Legg til\r\n        </button>\r\n              <button\r\n                className={\r\n                  this.checkValidPost()\r\n                    ? styles.button\r\n                    : styles.buttonDisabled\r\n                }\r\n                onClick={() => this.post()}\r\n              >\r\n                Publiser\r\n              </button>\r\n            </div>\r\n            <div className={styles.row}>\r\n        {this.state.exercises.map(exercise =>\r\n        <div className={styles.filterListPost} onClick={() => this.removeFilter(exercise)}>{exercise}</div>)}\r\n      </div>\r\n          </div>) }\r\n    }"]},"metadata":{},"sourceType":"module"}