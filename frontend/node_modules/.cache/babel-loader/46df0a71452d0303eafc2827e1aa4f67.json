{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bendi\\\\Desktop\\\\pu\\\\62\\\\frontend\\\\src\\\\components\\\\NewPost\\\\NewWorkout.js\";\nimport React from \"react\";\nimport styles from \"../../App.module.css\";\nconst defaultState = {\n  title: \"\",\n  exercises: [],\n  image: \"\",\n  content: \"\",\n  duration: \"\",\n  error: false\n};\nexport default class NewWorkout extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.post = async userdata => {\n      if (this.checkValidPost()) {\n        var date = new Date();\n        var dateFormat = date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\n        const formdata = new FormData();\n        formdata.append('title', this.state.title);\n        formdata.append('date', dateFormat);\n        formdata.append('content', this.state.content);\n        formdata.append('duration', this.state.duration);\n        formdata.append('image', this.state.image, this.state.image.name);\n        formdata.append('relations', this.state.exercises);\n        formdata.append('username', this.props.user.username ? this.props.user.username : '');\n        var parameters = {\n          method: \"POST\",\n          body: formdata,\n          redirect: \"follow\"\n        };\n        const response = await fetch(\"http://localhost:8000/workouts/\", parameters);\n        const data = await response.json();\n        console.log(\"posting a new workout..\");\n        this.props.reFetch();\n        this.setState(defaultState);\n        return data;\n      } else {\n        this.setState({\n          error: true\n        });\n      }\n    };\n\n    this.checkValidPost = () => {\n      return this.state.title.length > 3 && this.state.title.length < 50 && this.state.image && this.state.content.length > 15 && this.state.duration;\n    };\n\n    this.onChange = change => this.setState({\n      [change.target.name]: change.target.value\n    });\n\n    this.state = defaultState;\n  }\n\n  render() {\n    if (!this.props.isCreating) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: styles.postWrapperPublish,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Opprett trenings\\xF8kt\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"title\",\n      className: styles.input,\n      placeholder: \"Tittel p\\xE5 \\xF8kt\",\n      value: this.state.title,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"duration\",\n      type: \"number\",\n      className: styles.inputSmall,\n      placeholder: \"Varighet\",\n      value: this.state.duration,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: styles.postImagePublish,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.gradientPublish,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.inputImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Bilde:\", React.createElement(\"input\", {\n      type: \"file\",\n      name: \"image\",\n      accept: \"image/png, image/jpeg\",\n      onChange: change => {\n        this.setState({\n          image: change.target.files[0]\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), \" \"), \" \"), React.createElement(\"textarea\", {\n      className: styles.inputField,\n      name: \"content\",\n      style: {\n        minHeight: 100\n      },\n      placeholder: \"Beskrivelse\",\n      value: this.state.content,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"exercises\",\n      className: styles.input,\n      placeholder: \"Velg \\xF8velser\",\n      value: this.state.exercises,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: this.checkValidPost() ? styles.button : styles.buttonDisabled,\n      onClick: () => this.post(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"+ Publiser\")));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/bendi/Desktop/pu/62/frontend/src/components/NewPost/NewWorkout.js"],"names":["React","styles","defaultState","title","exercises","image","content","duration","error","NewWorkout","Component","constructor","props","post","userdata","checkValidPost","date","Date","dateFormat","getFullYear","getMonth","getDate","formdata","FormData","append","state","name","user","username","parameters","method","body","redirect","response","fetch","data","json","console","log","reFetch","setState","length","onChange","change","target","value","render","isCreating","postWrapperPublish","input","inputSmall","postImagePublish","gradientPublish","inputImage","files","inputField","minHeight","button","buttonDisabled"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styles from \"../../App.module.css\"\r\n\r\nconst defaultState = {\r\n  title: \"\",\r\n  exercises: [],\r\n  image: \"\",\r\n  content: \"\",\r\n  duration: \"\",\r\n  error: false\r\n}\r\n\r\nexport default class NewWorkout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = defaultState;\r\n      }\r\n\r\n      post = async userdata => {\r\n        if (this.checkValidPost()) {\r\n        var date = new Date();\r\n        var dateFormat =\r\n          date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\r\n        const formdata = new FormData();\r\n        formdata.append('title', this.state.title);\r\n        formdata.append('date', dateFormat);\r\n        formdata.append('content', this.state.content);\r\n        formdata.append('duration', this.state.duration);\r\n        formdata.append('image', this.state.image, this.state.image.name);\r\n        formdata.append('relations', this.state.exercises);\r\n        formdata.append('username', this.props.user.username ? this.props.user.username : '')\r\n    \r\n        var parameters = {\r\n          method: \"POST\",\r\n          body: formdata,\r\n          redirect: \"follow\"\r\n        };\r\n        const response = await fetch(\"http://localhost:8000/workouts/\", parameters);\r\n        const data = await response.json();\r\n        console.log(\"posting a new workout..\");\r\n        this.props.reFetch();\r\n        this.setState(defaultState)\r\n        return data;\r\n      }\r\n      else {this.setState({error: true})}\r\n      };\r\n\r\n      checkValidPost = () => {\r\n        return (\r\n            this.state.title.length > 3 &&\r\n            this.state.title.length < 50 &&\r\n            this.state.image &&\r\n            this.state.content.length > 15 &&\r\n            this.state.duration\r\n        );\r\n        };\r\n    \r\n        onChange = change =>\r\n        this.setState({ [change.target.name]: change.target.value });\r\n        \r\n        render() {\r\n        if ( !this.props.isCreating ) { return <div></div>}\r\n\r\n        return (            \r\n          <div className={styles.postWrapperPublish}>\r\n          <div className={styles.title}>\r\n              <strong>Opprett treningsøkt</strong>\r\n            </div>\r\n            <div >\r\n              \r\n                <input\r\n                  name=\"title\"\r\n                  className={styles.input}\r\n                  placeholder=\"Tittel på økt\"\r\n                  value={this.state.title}\r\n                  onChange={this.onChange}\r\n                />\r\n                     <input\r\n                  name=\"duration\"\r\n                  type=\"number\"\r\n                  className={styles.inputSmall}\r\n                  placeholder=\"Varighet\"\r\n                  value={this.state.duration}\r\n                  onChange={this.onChange}\r\n                />\r\n\r\n\r\n\r\n        <div className={styles.postImagePublish} >\r\n        <div className={styles.gradientPublish}>\r\n        <div className={styles.inputImage}>\r\n                Bilde:\r\n                 <input type=\"file\"\r\n                 name=\"image\"\r\n                 accept=\"image/png, image/jpeg\"\r\n                 onChange={change => {\r\n                  this.setState({\r\n                    image: change.target.files[0]\r\n                  });\r\n                }}/>\r\n                  </div> </div> </div>\r\n                <textarea\r\n                  className={styles.inputField}\r\n                  name=\"content\"\r\n                  style={{ minHeight: 100 }}\r\n                  placeholder=\"Beskrivelse\"\r\n                  value={this.state.content}\r\n                  onChange={this.onChange}\r\n                />\r\n                <input\r\n                  name=\"exercises\"\r\n                  className={styles.input}\r\n                  placeholder=\"Velg øvelser\"\r\n                  value={this.state.exercises}\r\n                  onChange={this.onChange}\r\n                />\r\n              <button\r\n                className={\r\n                  this.checkValidPost()\r\n                    ? styles.button\r\n                    : styles.buttonDisabled\r\n                }\r\n                onClick={() => this.post()}\r\n              >\r\n                + Publiser\r\n              </button>\r\n            </div>\r\n          </div>) }\r\n    }"]},"metadata":{},"sourceType":"module"}