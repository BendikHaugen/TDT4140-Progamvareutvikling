{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bendi\\\\Desktop\\\\pu\\\\62\\\\frontend\\\\src\\\\components\\\\NewPost\\\\NewExercise.js\";\nimport React from \"react\";\nimport styles from \"../../App.module.css\";\nconst defaultState = {\n  title: \"\",\n  musclegroups: [],\n  image: \"\",\n  content: \"\",\n  sets: \"\",\n  reps: \"\",\n  error: false\n};\nexport default class NewExercise extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.post = async () => {\n      if (this.checkValidPost()) {\n        var date = new Date();\n        var dateFormat = date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\n        const formdata = new FormData();\n        formdata.append(\"title\", this.state.title);\n        formdata.append(\"date\", dateFormat);\n        formdata.append(\"content\", this.state.content);\n        formdata.append(\"sets\", this.state.sets);\n        formdata.append(\"reps\", this.state.reps);\n        formdata.append(\"image\", this.state.image, this.state.image.name);\n        formdata.append(\"musclegroups\", this.state.musclegroups);\n        console.log(this.state);\n        var parameters = {\n          method: \"POST\",\n          body: formdata,\n          redirect: \"follow\"\n        };\n        const response = await fetch(\"http://localhost:8000/exercises/\", parameters);\n        const data = await response.json();\n        console.log(\"posting a new exercise..\");\n        this.props.reFetch();\n        this.props.createNew();\n        this.setState(defaultState);\n        return data;\n      } else {\n        this.setState({\n          error: true\n        });\n      }\n    };\n\n    this.checkValidPost = () => {\n      return this.state.title.length > 3 && this.state.image && this.state.content.length > 20;\n    };\n\n    this.onChange = change => this.setState({\n      [change.target.name]: change.target.value\n    });\n\n    this.state = defaultState;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      onClick: () => !this.props.isCreating && this.props.createNew(),\n      className: this.props.isCreating ? styles.newPost : styles.triggerPost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Legg til \\xF8velse\")), React.createElement(\"div\", {\n      className: this.props.isCreating ? styles.form : styles.hidden,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.fields,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"title\",\n      className: styles.input,\n      placeholder: \"Overskrift\",\n      value: this.state.title,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: styles.inputImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Bilde:\", React.createElement(\"input\", {\n      type: \"file\",\n      name: \"image\",\n      accept: \"image/png, image/jpeg\",\n      onChange: change => {\n        this.setState({\n          image: change.target.files[0]\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"textarea\", {\n      className: styles.inputField,\n      name: \"content\",\n      style: {\n        minHeight: 100\n      },\n      placeholder: \"Tekst\",\n      value: this.state.content,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"musclegroups\",\n      className: styles.input,\n      placeholder: \"Muskelgrupper\",\n      value: this.state.musclegroups,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"reps\",\n      type: \"number\",\n      className: styles.inputSmall,\n      placeholder: \"Repetisjoner\",\n      value: this.state.reps,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"sets\",\n      type: \"number\",\n      className: styles.inputSmall,\n      placeholder: \"Antall sett\",\n      value: this.state.sets,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: this.checkValidPost() ? styles.button : styles.buttonDisabled,\n      onClick: () => this.post(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Post\")));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/bendi/Desktop/pu/62/frontend/src/components/NewPost/NewExercise.js"],"names":["React","styles","defaultState","title","musclegroups","image","content","sets","reps","error","NewExercise","Component","constructor","props","post","checkValidPost","date","Date","dateFormat","getFullYear","getMonth","getDate","formdata","FormData","append","state","name","console","log","parameters","method","body","redirect","response","fetch","data","json","reFetch","createNew","setState","length","onChange","change","target","value","render","isCreating","newPost","triggerPost","form","hidden","fields","input","inputImage","files","inputField","minHeight","inputSmall","button","buttonDisabled"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styles from \"../../App.module.css\";\r\n\r\nconst defaultState = {\r\n  title: \"\",\r\n  musclegroups: [],\r\n  image: \"\",\r\n  content: \"\",\r\n  sets: \"\",\r\n  reps: \"\",\r\n  error: false\r\n};\r\n\r\nexport default class NewExercise extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = defaultState;\r\n  }\r\n\r\n  post = async () => {\r\n    if (this.checkValidPost()) {\r\n      var date = new Date();\r\n      var dateFormat =\r\n        date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\r\n\r\n      const formdata = new FormData();\r\n      formdata.append(\"title\", this.state.title);\r\n      formdata.append(\"date\", dateFormat);\r\n      formdata.append(\"content\", this.state.content);\r\n      formdata.append(\"sets\", this.state.sets);\r\n      formdata.append(\"reps\", this.state.reps);\r\n      formdata.append(\"image\", this.state.image, this.state.image.name);\r\n      formdata.append(\"musclegroups\", this.state.musclegroups);\r\n      console.log(this.state);\r\n\r\n      var parameters = {\r\n        method: \"POST\",\r\n        body: formdata,\r\n        redirect: \"follow\"\r\n      };\r\n      const response = await fetch(\r\n        \"http://localhost:8000/exercises/\",\r\n        parameters\r\n      );\r\n      const data = await response.json();\r\n      console.log(\"posting a new exercise..\");\r\n      this.props.reFetch();\r\n      this.props.createNew();\r\n      this.setState(defaultState);\r\n      return data;\r\n    } else {\r\n      this.setState({ error: true });\r\n    }\r\n  };\r\n\r\n  checkValidPost = () => {\r\n    return (\r\n      this.state.title.length > 3 &&\r\n      this.state.image &&\r\n      this.state.content.length > 20\r\n    );\r\n  };\r\n\r\n  onChange = change =>\r\n    this.setState({ [change.target.name]: change.target.value });\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        onClick={() => !this.props.isCreating && this.props.createNew()}\r\n        className={this.props.isCreating ? styles.newPost : styles.triggerPost}\r\n      >\r\n        <div>\r\n          <strong>Legg til øvelse</strong>\r\n        </div>\r\n        <div className={this.props.isCreating ? styles.form : styles.hidden}>\r\n          <div className={styles.fields}>\r\n            <input\r\n              name=\"title\"\r\n              className={styles.input}\r\n              placeholder=\"Overskrift\"\r\n              value={this.state.title}\r\n              onChange={this.onChange}\r\n            />\r\n            <div className={styles.inputImage}>\r\n              Bilde:\r\n              <input\r\n                type=\"file\"\r\n                name=\"image\"\r\n                accept=\"image/png, image/jpeg\"\r\n                onChange={change => {\r\n                  this.setState({\r\n                    image: change.target.files[0]\r\n                  });\r\n                }}\r\n              />\r\n            </div>\r\n            <textarea\r\n              className={styles.inputField}\r\n              name=\"content\"\r\n              style={{ minHeight: 100 }}\r\n              placeholder=\"Tekst\"\r\n              value={this.state.content}\r\n              onChange={this.onChange}\r\n            />\r\n            <input\r\n              name=\"musclegroups\"\r\n              className={styles.input}\r\n              placeholder=\"Muskelgrupper\"\r\n              value={this.state.musclegroups}\r\n              onChange={this.onChange}\r\n            />\r\n            <input\r\n              name=\"reps\"\r\n              type=\"number\"\r\n              className={styles.inputSmall}\r\n              placeholder=\"Repetisjoner\"\r\n              value={this.state.reps}\r\n              onChange={this.onChange}\r\n            />\r\n            <input\r\n              name=\"sets\"\r\n              type=\"number\"\r\n              className={styles.inputSmall}\r\n              placeholder=\"Antall sett\"\r\n              value={this.state.sets}\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <button\r\n            className={\r\n              this.checkValidPost() ? styles.button : styles.buttonDisabled\r\n            }\r\n            onClick={() => this.post()}\r\n          >\r\n            Post\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}