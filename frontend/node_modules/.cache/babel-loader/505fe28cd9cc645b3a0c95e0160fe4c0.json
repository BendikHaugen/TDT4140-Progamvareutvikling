{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bendi\\\\Desktop\\\\pu\\\\62\\\\frontend\\\\src\\\\components\\\\NewPost\\\\NewWorkout.js\";\nimport React from \"react\";\nimport styles from \"../../App.module.css\";\nconst defaultState = {\n  title: \"\",\n  exercises: [],\n  image: \"\",\n  content: \"\",\n  duration: \"\",\n  error: false\n};\nexport default class NewWorkout extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.post = async userdata => {\n      if (this.checkValidPost()) {\n        var date = new Date();\n        var dateFormat = date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\n        const formdata = new FormData();\n        formdata.append('title', this.state.title);\n        formdata.append('date', dateFormat);\n        formdata.append('content', this.state.content);\n        formdata.append('duration', this.state.duration);\n        formdata.append('image', this.state.image, this.state.image.name);\n        formdata.append('exercises', this.state.exercises);\n        var parameters = {\n          method: \"POST\",\n          body: formdata,\n          redirect: \"follow\"\n        };\n        const response = await fetch(\"http://localhost:8000/workouts/\", parameters);\n        const data = await response.json();\n        console.log(\"posting a new workout..\");\n        this.props.reFetch();\n        this.props.createNew();\n        this.setState(defaultState);\n        return data;\n      } else {\n        this.setState({\n          error: true\n        });\n      }\n    };\n\n    this.checkValidPost = () => {\n      return this.state.title.length > 3 && this.state.image && this.state.content.length > 20 && this.state.duration;\n    };\n\n    this.onChange = change => this.setState({\n      [change.target.name]: change.target.value\n    });\n\n    this.state = defaultState;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      onClick: () => !this.props.isCreating && this.props.createNew(),\n      className: this.props.isCreating ? styles.newPost : styles.triggerPost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Opprett trenings\\xF8kt\")), React.createElement(\"div\", {\n      className: this.props.isCreating ? styles.form : styles.hidden,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.fields,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"title\",\n      className: styles.input,\n      placeholder: \"Overskrift\",\n      value: this.state.title,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: styles.inputImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Bilde:\", React.createElement(\"input\", {\n      type: \"file\",\n      name: \"image\",\n      accept: \"image/png, image/jpeg\",\n      onChange: change => {\n        this.setState({\n          image: change.target.files[0]\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"textarea\", {\n      className: styles.inputField,\n      name: \"content\",\n      style: {\n        minHeight: 100\n      },\n      placeholder: \"Tekst\",\n      value: this.state.content,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"exercises\",\n      className: styles.input,\n      placeholder: \"\\xD8velser\",\n      value: this.state.exercises,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"duration\",\n      type: \"number\",\n      className: styles.input,\n      placeholder: \"Varighet\",\n      value: this.state.duration,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: this.checkValidPost() ? styles.button : styles.buttonDisabled,\n      onClick: () => this.post(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Post\")));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/bendi/Desktop/pu/62/frontend/src/components/NewPost/NewWorkout.js"],"names":["React","styles","defaultState","title","exercises","image","content","duration","error","NewWorkout","Component","constructor","props","post","userdata","checkValidPost","date","Date","dateFormat","getFullYear","getMonth","getDate","formdata","FormData","append","state","name","parameters","method","body","redirect","response","fetch","data","json","console","log","reFetch","createNew","setState","length","onChange","change","target","value","render","isCreating","newPost","triggerPost","form","hidden","fields","input","inputImage","files","inputField","minHeight","button","buttonDisabled"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styles from \"../../App.module.css\"\r\n\r\nconst defaultState = {\r\n  title: \"\",\r\n  exercises: [],\r\n  image: \"\",\r\n  content: \"\",\r\n  duration: \"\",\r\n  error: false\r\n}\r\n\r\nexport default class NewWorkout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = defaultState;\r\n      }\r\n\r\n      post = async userdata => {\r\n        if (this.checkValidPost()) {\r\n        var date = new Date();\r\n        var dateFormat =\r\n          date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\r\n    \r\n        const formdata = new FormData();\r\n        formdata.append('title', this.state.title);\r\n        formdata.append('date', dateFormat);\r\n        formdata.append('content', this.state.content);\r\n        formdata.append('duration', this.state.duration);\r\n        formdata.append('image', this.state.image, this.state.image.name);\r\n        formdata.append('exercises', this.state.exercises);\r\n    \r\n        var parameters = {\r\n          method: \"POST\",\r\n          body: formdata,\r\n          redirect: \"follow\"\r\n        };\r\n        const response = await fetch(\"http://localhost:8000/workouts/\", parameters);\r\n        const data = await response.json();\r\n        console.log(\"posting a new workout..\");\r\n        this.props.reFetch();\r\n        this.props.createNew();\r\n        this.setState(defaultState)\r\n        return data;\r\n      }\r\n      else {this.setState({error: true})}\r\n      };\r\n\r\n      checkValidPost = () => {\r\n        return (\r\n            this.state.title.length > 3 &&\r\n            this.state.image &&\r\n            this.state.content.length > 20 &&\r\n            this.state.duration\r\n        );\r\n        };\r\n    \r\n        onChange = change =>\r\n        this.setState({ [change.target.name]: change.target.value });\r\n        \r\n        render() { \r\n        return (            \r\n        <div\r\n            onClick={() =>\r\n              !this.props.isCreating && this.props.createNew()\r\n            }\r\n            className={\r\n              this.props.isCreating ? styles.newPost : styles.triggerPost\r\n            }\r\n          >\r\n            <div>\r\n              <strong>Opprett treningsøkt</strong>\r\n            </div>\r\n            <div\r\n              className={this.props.isCreating ? styles.form : styles.hidden}\r\n            >\r\n              <div className={styles.fields}>\r\n                <input\r\n                  name=\"title\"\r\n                  className={styles.input}\r\n                  placeholder=\"Overskrift\"\r\n                  value={this.state.title}\r\n                  onChange={this.onChange}\r\n                />\r\n                <div className={styles.inputImage}>\r\n                Bilde:\r\n                 <input type=\"file\"\r\n                 name=\"image\"\r\n                 accept=\"image/png, image/jpeg\"\r\n                 onChange={change => {\r\n                  this.setState({\r\n                    image: change.target.files[0]\r\n                  });\r\n                }}/>\r\n                  </div>\r\n                <textarea\r\n                  className={styles.inputField}\r\n                  name=\"content\"\r\n                  style={{ minHeight: 100 }}\r\n                  placeholder=\"Tekst\"\r\n                  value={this.state.content}\r\n                  onChange={this.onChange}\r\n                />\r\n                <input\r\n                  name=\"exercises\"\r\n                  className={styles.input}\r\n                  placeholder=\"Øvelser\"\r\n                  value={this.state.exercises}\r\n                  onChange={this.onChange}\r\n                />\r\n                 <input\r\n                  name=\"duration\"\r\n                  type=\"number\"\r\n                  className={styles.input}\r\n                  placeholder=\"Varighet\"\r\n                  value={this.state.duration}\r\n                  onChange={this.onChange}\r\n                />\r\n              </div>\r\n              <button\r\n                className={\r\n                  this.checkValidPost()\r\n                    ? styles.button\r\n                    : styles.buttonDisabled\r\n                }\r\n                onClick={() => this.post()}\r\n              >\r\n                Post\r\n              </button>\r\n            </div>\r\n          </div>) }\r\n    }"]},"metadata":{},"sourceType":"module"}